<header class="bg-white shadow">
  <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center">
    <h1 class="text-3xl font-bold tracking-tight text-gray-900">List of Users</h1>
    <a mat-flat-button color="primary" routerLink="/user/create" routerLinkActive="active" ariaCurrentWhenActive="page">New user</a>
</div>
</header>
<main>
    <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8" style="overflow-x: auto;">
        <mat-table [dataSource]="dataSource" class="mat-elevation-z8 sticky-table">
    
            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef class="sticky-column">Name</mat-header-cell>
                <mat-cell *matCellDef="let user" class="sticky-column"><strong>{{ user.name }}</strong></mat-cell>
            </ng-container>
    
            <!-- Email Column -->
            <ng-container matColumnDef="email">
                <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
                <mat-cell *matCellDef="let user">{{ user.email }}</mat-cell>
            </ng-container>
    
            <!-- Role Column -->
            <ng-container matColumnDef="role">
                <mat-header-cell *matHeaderCellDef>Role</mat-header-cell>
                <mat-cell *matCellDef="let user">{{ user.role }}</mat-cell>
            </ng-container>
    
            <!-- Is Email Verified Column -->
            <ng-container matColumnDef="isEmailVerified">
                <mat-header-cell *matHeaderCellDef>Email Verified</mat-header-cell>
                <mat-cell *matCellDef="let user">{{ user.isEmailVerified ? 'Yes' : 'No' }}</mat-cell>
            </ng-container>
    
            <!-- Actions Column -->
            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                <mat-cell *matCellDef="let user">
                    <button mat-icon-button color="primary" (click)="modifyUser(user._id)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-icon-button color="warn" (click)="openDialog(user)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </mat-cell>
            </ng-container>
    
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
    </div>
  <!-- Modal -->
    <ng-template #detailDialogTemplate let-data>
        <h2 mat-dialog-title>Atention</h2>
        <mat-dialog-content>
            <p> Are you sure you want to delete this user: <strong> {{data.name}} </strong> </p>
        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-flat-button color="warn" (click)="deleteUser(data._id)">Yes</button>
            <button mat-button (click)="closeDialog()">Close</button>
        </mat-dialog-actions>
    </ng-template>
</main>

