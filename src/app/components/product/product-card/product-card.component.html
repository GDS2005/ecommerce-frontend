<main>
  <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
      <ng-container *ngFor="let product of products">
        <mat-card class="example-card bg-white shadow-md rounded-lg">
          <div class="flex flex-col h-full">
            <mat-card-header class="flex items-center h-16">
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title class="ml-2">{{ product.name }}</mat-card-title>
              <mat-card-subtitle class="ml-auto">{{ product.price | currency }}</mat-card-subtitle>
            </mat-card-header>
            <div class="p-6">
              <div class="image-container">
                <img mat-card-image [src]="imageUrl + product.image" alt="{{product.image}}" class="object-contain w-full h-full">
              </div>
            </div>
            <mat-card-content class="h-20">
              <p class="text-sm">
                {{ product.description }}
              </p>
            
            </mat-card-content>
            <mat-card-content>
              <p *ngIf="product.stock > 0">Stock: {{ product.stock }}</p>
              <p *ngIf="product.stock === 0"><strong>Not in stock</strong></p>
            </mat-card-content>
            <mat-card-actions class="flex justify-end h-16">
              <button *ngIf="product.stock > 0" mat-flat-button color="warn" (click)="detail(product._id)">Buy</button>
            </mat-card-actions>
          </div>
        </mat-card>
      </ng-container>

    </div>
  </div>
</main>